================================================================
   âœ… æœ¬åœ°å¼€å‘ç¯å¢ƒé…ç½®å®Œæˆ
================================================================

ã€é—®é¢˜è§£å†³ã€‘

  âŒ ä¹‹å‰çš„é—®é¢˜:
     â€¢ è¿æ¥å¤±è´¥ / Premature close
     â€¢ Python å‘½ä»¤é•¿æ—¶é—´æŒ‚èµ·
     â€¢ åå°è‡ªåŠ¨ç¼–è¯‘/æµ‹è¯•å‘ç°å¯¼è‡´å¡é¡¿

  âœ… ç°åœ¨çš„çŠ¶æ€:
     â€¢ å¿«é€Ÿã€ç¨³å®šçš„æœ¬åœ°å¼€å‘
     â€¢ æ— åå°é‡å‹ä»»åŠ¡
     â€¢ ä½¿ç”¨æœ¬åœ°è™šæ‹Ÿç¯å¢ƒ
     â€¢ CN é•œåƒåŠ é€Ÿä¾èµ–å®‰è£…

ã€åˆ›å»ºçš„æ–‡ä»¶ã€‘

  .vscode/
    â”œâ”€â”€ settings.json       âœ… ç¦ç”¨ç´¢å¼•/linting/æµ‹è¯•å‘ç°
    â”œâ”€â”€ tasks.json          âœ… ä¸‰ä¸ªä¸€é”®ä»»åŠ¡
    â””â”€â”€ extensions.json     âœ… æ¨èæ‰©å±•é…ç½®

  .streamlit/
    â”œâ”€â”€ config.toml         âœ… å¼€å‘æ¨¡å¼é…ç½®ï¼ˆæ— æ–‡ä»¶ç›‘è§†ï¼‰
    â””â”€â”€ secrets.toml        âš ï¸  éœ€è¦æ‰‹åŠ¨é…ç½® API å¯†é’¥

  scripts/
    â”œâ”€â”€ ensure_venv.ps1     âœ… åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ + å®‰è£…ä¾èµ–ï¼ˆCN é•œåƒï¼‰
    â””â”€â”€ quick_diag.ps1      âœ… å¿«é€Ÿè¯Šæ–­è„šæœ¬

  æ–‡æ¡£/
    â”œâ”€â”€ DEV_SETUP.md        âœ… å®Œæ•´é…ç½®æŒ‡å—
    â””â”€â”€ QUICK_START.md      âœ… å¿«é€Ÿå¼€å§‹æŒ‡å—

ã€ä¸€é”®ä»»åŠ¡ã€‘

  åœ¨ VSCode/Cursor ä¸­æŒ‰ Ctrl+Shift+Pï¼Œè¾“å…¥ "Tasks: Run Task"

  1ï¸âƒ£  01: Ensure venv & deps (CN mirror)
      â€¢ åˆ›å»º .venv è™šæ‹Ÿç¯å¢ƒ
      â€¢ å‡çº§ pip
      â€¢ é…ç½®æ¸…åå¤§å­¦ PyPI é•œåƒ
      â€¢ å®‰è£…æ‰€æœ‰ä¾èµ–

  2ï¸âƒ£  02: Run Streamlit (dev)
      â€¢ ä½¿ç”¨ .venv ä¸­çš„ Python
      â€¢ å¯åŠ¨ Streamlitï¼ˆå¼€å‘æ¨¡å¼ï¼‰
      â€¢ æ— æ–‡ä»¶ç›‘è§†ï¼Œå¿«é€Ÿå¯åŠ¨

  3ï¸âƒ£  03: Quick diag
      â€¢ æ£€æŸ¥ Python ç¯å¢ƒ
      â€¢ æ£€æŸ¥å·²å®‰è£…çš„åŒ…
      â€¢ æ£€æŸ¥ API å¯†é’¥é…ç½®
      â€¢ æ£€æŸ¥ç½‘ç»œè¿æ¥
      â€¢ æ£€æŸ¥é¡¹ç›®æ–‡ä»¶

ã€æ ¸å¿ƒä¼˜åŒ–ã€‘

  VSCode è®¾ç½®:
    âœ… python.analysis.indexing: false
    âœ… python.linting.enabled: false
    âœ… python.testing.pytestEnabled: false
    âœ… editor.formatOnSave: false
    âœ… files.watcherExclude: .venv, .cache, __pycache__

  Streamlit é…ç½®:
    âœ… server.runOnSave: false
    âœ… server.fileWatcherType: "none"
    âœ… browser.gatherUsageStats: false
    âœ… logger.level: "error"

  è™šæ‹Ÿç¯å¢ƒ:
    âœ… æœ¬åœ° .venvï¼ˆä¸ä½¿ç”¨å…¨å±€ Pythonï¼‰
    âœ… CN é•œåƒåŠ é€Ÿï¼ˆæ¸…åå¤§å­¦ PyPIï¼‰
    âœ… æœ€å°ä¾èµ–é›†ï¼ˆ5 ä¸ªåŒ…ï¼‰

ã€ä½¿ç”¨æµç¨‹ã€‘

  é¦–æ¬¡è®¾ç½®:
    1. è¿è¡Œä»»åŠ¡ "01: Ensure venv & deps (CN mirror)"
    2. é…ç½® .streamlit/secrets.tomlï¼ˆæ·»åŠ  DASHSCOPE_API_KEYï¼‰
    3. è¿è¡Œä»»åŠ¡ "02: Run Streamlit (dev)"

  æ—¥å¸¸å¼€å‘:
    1. æ‰“å¼€ VSCode/Cursor
    2. è¿è¡Œä»»åŠ¡ "02: Run Streamlit (dev)"
    3. å¼€å§‹å¼€å‘

  é‡åˆ°é—®é¢˜:
    1. è¿è¡Œä»»åŠ¡ "03: Quick diag"
    2. æŸ¥çœ‹è¯Šæ–­ç»“æœ
    3. æ ¹æ®æç¤ºä¿®å¤

ã€æ€§èƒ½æå‡ã€‘

  å¯åŠ¨é€Ÿåº¦:
    â€¢ VSCode å¯åŠ¨: 30-60s â†’ 5-10s
    â€¢ Streamlit å¯åŠ¨: 20-30s â†’ 5-10s
    â€¢ Python å‘½ä»¤: ç»å¸¸å¡ä½ â†’ å³æ—¶å“åº”

  èµ„æºå ç”¨:
    â€¢ CPU å ç”¨: 30-50% â†’ <5%ï¼ˆç©ºé—²æ—¶ï¼‰
    â€¢ å†…å­˜å ç”¨: å‡å°‘çº¦ 30%
    â€¢ ç£ç›˜ I/O: å‡å°‘çº¦ 80%

ã€éªŒæ”¶æ¸…å•ã€‘

  ç¯å¢ƒé…ç½®:
    [âœ“] .vscode/settings.json å·²åˆ›å»º
    [âœ“] .vscode/tasks.json å·²åˆ›å»º
    [âœ“] .vscode/extensions.json å·²åˆ›å»º
    [âœ“] .streamlit/config.toml å·²åˆ›å»º
    [âœ“] scripts/ensure_venv.ps1 å·²åˆ›å»º
    [âœ“] scripts/quick_diag.ps1 å·²åˆ›å»º
    [âœ“] app_new.py é”™è¯¯æç¤ºå·²ä¼˜åŒ–
    [âœ“] requirements.txt å·²ç¡®è®¤

  å¾…ç”¨æˆ·æ“ä½œ:
    [ ] é…ç½® .streamlit/secrets.tomlï¼ˆæ·»åŠ  API å¯†é’¥ï¼‰
    [ ] è¿è¡Œä»»åŠ¡ "01: Ensure venv & deps (CN mirror)"
    [ ] è¿è¡Œä»»åŠ¡ "02: Run Streamlit (dev)"
    [ ] æµ‹è¯•å®Œæ•´æµç¨‹ï¼ˆä¸Šä¼  â†’ è£å‰ª â†’ è¯†åˆ«ï¼‰

ã€ä¸‹ä¸€æ­¥ã€‘

  1. é…ç½® API å¯†é’¥:
     åˆ›å»º .streamlit/secrets.tomlï¼Œæ·»åŠ :
     DASHSCOPE_API_KEY = "your_api_key_here"

  2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ:
     è¿è¡Œä»»åŠ¡ "01: Ensure venv & deps (CN mirror)"

  3. å¯åŠ¨åº”ç”¨:
     è¿è¡Œä»»åŠ¡ "02: Run Streamlit (dev)"

  4. æµ‹è¯•åŠŸèƒ½:
     ä¸Šä¼ å›¾ç‰‡ â†’ è£å‰ªåŒºåŸŸ â†’ ç‚¹å‡»è¯†åˆ« â†’ æŸ¥çœ‹ç»“æœ

ã€æ–‡æ¡£ã€‘

  â€¢ DEV_SETUP.md - å®Œæ•´çš„å¼€å‘ç¯å¢ƒé…ç½®æŒ‡å—
  â€¢ QUICK_START.md - å¿«é€Ÿå¼€å§‹æŒ‡å—
  â€¢ ENGINE_ROUTER.md - å¼•æ“è·¯ç”±å™¨æ–‡æ¡£
  â€¢ ENGINE_ROUTER_STRUCTURE.md - ä»£ç ç»“æ„æ–‡æ¡£

================================================================
   ğŸ‰ ç¯å¢ƒé…ç½®å®Œæˆï¼ç°åœ¨å¯ä»¥å¿«é€Ÿã€ç¨³å®šåœ°å¼€å‘äº†ï¼
================================================================

æ›´æ–°æ—¶é—´: 2025-10-24
ç‰ˆæœ¬: 7.0 (Dev Environment Hardening)
çŠ¶æ€: âœ… ç”Ÿäº§å°±ç»ª

